#: import utils kivy.utils


<DashboardScreen>:
    BoxLayout:
        orientation: "vertical"
        canvas: 
            Color:
                rgba: utils.get_color_from_hex("#0d1727")
            Rectangle:
                size: self.size
                pos: self.pos

        ##-------- START OF TOP BAR --------##
        BoxLayout:
            orientation: "horizontal"
            size_hint: (1, 0.03)
            spacing: "10dp"
            canvas:
                Color:
                    rgba: utils.get_color_from_hex("#425f8f")
                Rectangle:
                    size: self.size
                    pos: self.pos

            Spacer:
                size_hint: (0.75, 1)

            # Minimize Button
            ImageButton:
                id: minimize_btn_id
                source: "icons/minimize.png"
                size_hint: (None, None)
                height: "25dp"
                width: "35dp"
                pos_hint: {"center_y": 0.48}
                on_release: app.minimize()

            # Close Button
            ImageButton:
                id: close_btn_id
                source: "icons/cross.png"
                size_hint: (None, None)
                height: "18dp"
                width: "18dp"
                pos_hint: {"center_y": 0.45}
                on_release: app.close()

            Spacer:
                size_hint: (0.01, 1)
        ##-------- END OF TOP BAR --------##

        
        Spacer:
            size_hint: (1, 0.04)

        ##-------- START OF TOP LABEL --------##
        BoxLayout:
            orientation: "horizontal"
            size_hint: (1,0.06)
            Spacer:
                size_hint: (0.37, 1)
            Label:
                text: "COVID-19"
                font_size: "50sp"
                size_hint: (0.2,1)
                color: utils.get_color_from_hex("#748ca6")
            Spacer:
                size_hint: (0.03,1)
            Image:
                source: "icons/ripple.gif"
                size_hint: (0.1, 1)
                anim_delay: 0.1  # Adjust this for animation speed
            Spacer:
                size_hint: (0.3,1)
        ##-------- END OF TOP LABEL --------##

        ##-------- START OF TOP SEARCH BAR & DATE BAR --------##
        BoxLayout:
            orientation: "vertical"
            size_hint: (1, 0.87)

            BoxLayout:
                orientation: "horizontal"
                size_hint: (1, 0.1)

                Label:
                    text: "Enter Location: "
                    size_hint: (0.15, 0.4)
                    color: utils.get_color_from_hex("#2b2f43")

                BoxLayout:
                    orientation: "vertical"
                    size_hint: (0.25, 0.4)

                    TextInput:
                        id: search_location_id
                        hint_text: "e.g. Greece"
                        font_size: "15sp"
                        font_name: "barlow-reg"
                        size_hint: (1,0.93)
                        background_color: 0, 0, 0, 0
                        foreground_color: 0.8, 0.8, 0.8, 1

                    BoxLayout:
                        size_hint: (1, 0.03)
                        canvas:
                            Color:
                                rgba: utils.get_color_from_hex("#2a2f44")
                            Rectangle:
                                size: self.size
                                pos: self.pos

                    Spacer:
                        size_hint: (1, 0.27)

                ImageButton:
                    source: "icons/go.png"
                    size_hint: (0.1, 0.4)
                    allow_stretch: True
                    keep_aspect: False
                    on_release:
                        app.process_datasearch()

                Spacer:
                    size_hint: (0.55, 1)

                Label:
                    id: date_label_id
                    text: "------"
                    markup: True
                    size_hint: (0.1, 0.5)
                    font_size: "15sp"
                    font_name: "barlow-reg"
                    color: utils.get_color_from_hex("#2b2f43")

                Spacer:
                    size_hint: (0.02, 1)
                ##-------- END OF TOP SEARCH BAR & DATE BAR --------##
            
            
            Spacer:
                size_hint: (1,0.05)

            ##-------- START OF CONFIRMED CASES & ACTIVE & DEATHS COVID CASES --------##
            BoxLayout:
                orientation:"horizontal"
                size_hint: (1,0.425)
                
                ##-------- START OF CONFIRMED CASES WIDGET --------##
                BoxLayout:
                    orientation: "vertical"
                    size_hint: (0.74,1)
                    spacing: "10"

                    canvas:
                        Color:
                            rgba: utils.get_color_from_hex("#121c2e")
                        Rectangle:
                            size: self.size
                            pos: self.pos
                    
                    BoxLayout:
                        orientation: "vertical"
                        size_hint: (1,0.2)
                        Spacer:
                            size_hint: (1,0.1)
                        Label:
                            text: "Confirmed Cases"
                            size_hint: (1,0.9)
                            font_size: "35sp"
                            color: utils.get_color_from_hex("#47546e")
                    BoxLayout:
                        orientation: "vertical"
                        size_hint: (1,0.6)

                        Label:
                            id: confirmed_cases_id
                            font_size: "200sp"
                            text: "--"
                            font_name: "roboto-medium"
                            color: utils.get_color_from_hex("#8695ad")
                    BoxLayout:
                        orientation: "horizontal"
                        size_hint:(1,0.2)
                        Spacer:
                            size_hint: (0.45, 0.6)
                        Image: 
                            source: "icons/up.png"
                            size_hint:(0.05,0.4)
                            pos_hint:{"center_y":0.5}

                        Label:
                            id: confirmed_cases_delta_id
                            text: "--" # Increase by
                            font_size: "22sp"
                            font_name: "roboto-medium"
                            size_hint: (0.05, 0.6)
                            color: utils.get_color_from_hex("#950d0d")
                            pos_hint: {"center_y":0.5}
                        Spacer:
                            size_hint: (0.45, 0.6)
                Spacer:
                    size_hint: (0.01, 1)
                

                BoxLayout:
                    orientation: "vertical"
                    size_hint: (0.25,1)
                    spacing: "10"
                    canvas:
                        Color:
                            rgba: utils.get_color_from_hex("#0d1727")
                        Rectangle:
                            size: self.size
                            pos: self.pos
                ##-------- END OF CONFIRMED CASES WIDGET --------##

                    ##-------- START OF CONFIRMED DEATHS WIDGET --------##
                    BoxLayout:
                        orientation: "vertical"
                        size_hint: (1,0.5)
                        spacing: "1"
                        canvas:
                            Color:
                                rgba: utils.get_color_from_hex("#121c2e")
                            Rectangle:
                                size: self.size
                                pos: self.pos
                        Spacer:
                            size_hint: (1, 0.1)
                        
                        Label:
                            text: "Confirmed Deaths"
                            font_size: "22sp"
                            font_name: "roboto-medium"
                            color: utils.get_color_from_hex("#47546e")
                            size_hint: (1,0.1)
                        Label:
                            id: confirmed_deaths_id
                            font_size: "55sp"
                            text: "--"
                            font_name: "roboto-medium"
                            color: utils.get_color_from_hex("#47546e")
                            size_hint: (1,0.5)
                        BoxLayout:
                            orientation: "horizontal"
                            size_hint: (1,0.2)
                            Spacer:
                                size_hint: (0.4, 0.6)
                            Image: 
                                source: "icons/up.png"
                                size_hint: (0.05, 0.4)
                                pos_hint: {"center_y":0.5}
                            Label:
                                id: confirmed_deaths_delta_id
                                text: "--"
                                font_size: "22sp"
                                size_hint: (0.2, 0.6)
                                font_name: "roboto-medium"
                                color: utils.get_color_from_hex("#950d0d")
                                pos_hint: {"center_y":0.5}
                            Spacer:
                                size_hint: (0.35, 0.6)
                    ##-------- END OF CONFIRMED DEATHS WIDGET --------##

                    ##-------- START OF ACTIVE CASES WIDGET --------##
                    BoxLayout:
                        orientation: "vertical"
                        size_hint: (1, 0.5)
                        canvas:
                            Color:
                                rgba: utils.get_color_from_hex("#121c2e")
                            Rectangle:
                                size: self.size
                                pos: self.pos
                        Spacer:
                            size_hint: (1,0.1)
                        Label:
                            text: "Active Cases"
                            font_size: "24sp"
                            font_name: "roboto-medium"
                            color: utils.get_color_from_hex("#47546e")
                            size_hint: (1,0.1)

                        Label:
                            id: active_cases_id
                            font_name: "roboto-medium"
                            font_size: "55sp"
                            text: "--"
                            color: utils.get_color_from_hex("#47536e")
                            size_hint: (1,0.5)

                        BoxLayout:
                            orientation: "horizontal"
                            size_hint: (1,0.2)
                            Spacer:
                                size_hint: (0.29, 0.6)
                            Image: 
                                source: "icons/brown_circle.png"
                                size_hint: (0.05, 0.4)
                                pos_hint: {"center_y":0.5}
                            Spacer:
                                size_hint: (0.01,0.6)

                            Label:
                                id: critical_cases_id
                                text: "--"
                                font_size: "15sp"
                                font_name: "roboto-medium"
                                color: utils.get_color_from_hex("#854102")
                                pos_hint: {"center_y":0.5}
                                size_hint: (0.4,0.6)
                            Spacer:
                                size_hint: (0.25, 0.6)
                        Spacer:
                            size_hint: (1,0.1)
                    ##-------- START OF ACTIVE CASES WIDGET --------##

            
            Spacer:
                size_hint: (1,0.025)
            
            ##-------- START OF RECOVERDED CASES WIDGET & GRAPH OUTPUT --------##
            
            BoxLayout:
                orientation: "horizontal"
                size_hint: (1, 0.3)

                BoxLayout:
                    orientation: "horizontal"
                    size_hint: (0.74,1)
                    spacing: "10"
                    canvas:
                        Color:
                            rgba: utils.get_color_from_hex("#121c2e")
                        Rectangle:
                            size: self.size
                            pos: self.pos
                    Bar:
                        value: 90
                        size_hint:(0.01,0.9)
                    Spacer:
                        size_hint:(0.99, 1)
                Spacer:
                    size_hint: (0.01,1)
                
                BoxLayout:
                    orientation: "vertical"
                    size_hint: (0.25,1)
                    spacing:"10"
                    canvas:
                        Color:
                            rgba: utils.get_color_from_hex("#121c2e")
                        Rectangle:
                            size: self.size
                            pos: self.pos
                    Spacer:
                        size_hint: (1,0.1)
                    Label:
                        text: "Recovered"
                        font_size: "24sp"
                        font_name: "roboto-medium"
                        color: utils.get_color_from_hex("#47546e")
                        size_hint: (1,0.5)
                    Label:
                        id: recovered_cases_id
                        text: "--"
                        font_size: "55sp"
                        font_name: "roboto-medium"
                        color: utils.get_color_from_hex("#47546e")
                        size_hint: (1,0.5)


                    BoxLayout:
                        orientation: "horizontal"
                        size_hint: (1,0.2)
                        Spacer:
                            size_hint: (0.29,0.6)
                        Image:
                            source: "icons/green_circle.png"
                            size_hint: (0.05,0.4)
                            pos__hint: {"center_y":0.5}
                        Spacer:
                            size_hint:(0.01,0.6)
                        Label:
                            id: recovery_rate_id
                            text: "--"
                            font_size: "15sp"
                            size_hint: (0.4,0.6)
                            font_name: "roboto-medium"
                            color: utils.get_color_from_hex("#05a379")
                            pos__hint: {"center_y":0.5}
                        Spacer:
                            size_hint: (0.25,0.6)
                    Spacer:
                        size_hint: (1,0.1)
            ##-------- START OF RECOVERDED CASES WIDGET & GRAPH OUTPUT --------##

            ##-------- END OF CONFIRMED CASES & ACTIVE & DEATH COVID CASES --------##
            Spacer:
                size_hint: (1, 0.03)
            


        


